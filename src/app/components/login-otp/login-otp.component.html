<div class="modal-body">
  <div class="text-center">
    <h3 class="modal_headng">OTP Verification</h3>
    <button type="button" class="close" mat-dialog-close>
      <span aria-hidden="true">&times;</span>
    </button>
    <span class="th_txt th_clr">
      <strong
        >We sent you a code to verify your mobile number XXXXXX{{
          shortPhone
        }}</strong
      >
    </span>
    <form #form="ngForm" (submit)="form.valid && verifyLoginOtp(form)">
      <div class="mt-4">
        <div class="row">
          <div class="col-lg-12">
            <input
              type="text-center"
              class="form-control"
              name="otp"
              ngModel
              #otp="ngModel"
              required
              number
              maxlength="4"
              minlength="4"
            />
            <span class="error" *ngIf="form.submitted && otp.errors"
              >Please enter a valid otp</span
            >
            <span
              class="error"
              *ngIf="invalidOTP && (!verifying && !otp.errors)"
              >OTP you have entered is invalid!</span
            >
          </div>
        </div>
      </div>

      <div class="mt-2 w-100">
        <span class="th_txt ">I didn't receive a code</span>

        <span *ngIf="!resendingOTP">
          <button
            (click)="resendOTP()"
            type="button"
            class="btn btn-link th_clr"
          >
            <strong>Resend Code</strong>
          </button>
        </span>

        <span *ngIf="resendingOTP" class="ml-2">
          <strong>Resending <i class="fa fa-spinner fa-spin"></i></strong>
        </span>

        <span *ngIf="resent && !resendingOTP" class="ml-2">
          <strong class="text-success">Sent <i class="fa fa-check"></i></strong>
        </span>
      </div>

      <div class="mb_100 mt-3">
        <button
          [disabled]="verifying || resendingOTP || !form.valid"
          class="btn btn-dark w-100"
        >
          <span *ngIf="verifying"
            >Verifying <i class="fa fa-spinner fa-spin"></i
          ></span>
          <span *ngIf="!verifying">Verify</span>
        </button>
      </div>
    </form>
  </div>
</div>
